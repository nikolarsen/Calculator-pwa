<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="–ü—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤—ã—á–∏—Å–ª–µ–Ω–∏–π">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
<style>
  /* –≠–ö–°–¢–†–ï–ù–ù–´–ô –§–ò–ö–° –î–õ–Ø –í–´–°–û–¢–´ */
  body, html {
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
  }
  
  .calculator {
    height: 100% !important;
  }
</style>
  <!-- PWA -->
  <link rel="manifest" href="./manifest.webmanifest" />
  <meta name="theme-color" content="#111111">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="./icons/apple-touch-icon-180.png">

  <!-- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –≤ PWA -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä">

<!-- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ -->
<style>
  * {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }
</style>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <button class="settings-btn" id="settingsBtn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
    </svg>
  </button>
  
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <div class="settings-modal" id="settingsModal">
    <div class="settings-content">
      <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ </h2>
      
      <!-- –í—ã–±–æ—Ä —Ç–µ–º—ã -->
      <div class="setting-group">
        <label for="themeSelect">üé® –¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:</label>
        <select id="themeSelect">
          <option value="dark">üåô –¢—ë–º–Ω–∞—è –∫–ª–∞—Å—Å–∏–∫–∞</option>
          <option value="light">‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è</option>
          <option value="amoled">‚ö´ AMOLED —á–µ—Ä–Ω–∞—è</option>
          <option value="blue">üîµ –°–∏–Ω—è—è –æ–∫–µ–∞–Ω</option>
          <option value="purple">üü£ –ü—É—Ä–ø—É—Ä–Ω–∞—è</option>
          <option value="green">üü¢ –ó–µ–ª–µ–Ω–∞—è –ø—Ä–∏—Ä–æ–¥–∞</option>
          <option value="modern-orange">üü† –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—Ä–∞–Ω–∂–µ–≤–∞—è</option>
          <option value="gradient">üåà –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω–∞—è</option>
        </select>
      </div>
      
      <!-- –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —ç–∫—Ä–∞–Ω–∞ -->
      <div class="setting-group">
        <label for="screenFontSize">üìè –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —ç–∫—Ä–∞–Ω–∞:</label>
        <div style="display: flex; align-items: center; gap: 10px;">
          <input type="range" id="screenFontSize" min="36" max="72" value="52">
          <span id="screenSizeValue">52px</span>
        </div>
      </div>
      
      <!-- –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏ -->
      <div class="setting-group">
        <label for="historyFontSize">üìù –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏—Å—Ç–æ—Ä–∏–∏:</label>
        <div style="display: flex; align-items: center; gap: 10px;">
          <input type="range" id="historyFontSize" min="16" max="32" value="22">
          <span id="historySizeValue">22px</span>
        </div>
      </div>
      
      <!-- –§–æ—Ä–º–∞ –∫–Ω–æ–ø–æ–∫ -->
      <div class="setting-group">
        <label for="buttonShape">üîò –§–æ—Ä–º–∞ –∫–Ω–æ–ø–æ–∫:</label>
        <select id="buttonShape">
          <option value="rounded">–°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ</option>
          <option value="square">–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ</option>
      </select>
      </div>
      

      
      <!-- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å -->
      <div class="setting-group">
        <label for="buttonOpacity"> –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫:</label>
        <div style="display: flex; align-items: center; gap: 10px;">
          <input type="range" id="buttonOpacity" min="50" max="100" value="85">
          <span id="opacityValue">85%</span>
        </div>
      </div>
      
      <!-- –ó–Ω–∞–∫–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π -->
      <div class="setting-group">
        <label for="decimalPlaces"> –ó–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π:</label>
        <select id="decimalPlaces">
          <option value="0">0 (—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞)</option>
          <option value="2">2 (–¥–µ–Ω—å–≥–∏)</option>
          <option value="4">4 (—Ç–æ—á–Ω—ã–µ)</option>
          <option value="6">6 (–Ω–∞—É—á–Ω—ã–µ)</option>
          <option value="8">8 (–≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)</option>
          <option value="10">10 (–º–∞–∫—Å–∏–º—É–º)</option>
        </select>
      </div>
      
      <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
      <div class="settings-buttons">
        <button class="btn" id="saveSettings" style="background: var(--success); color: white;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="btn" id="closeSettings">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
        <button class="btn" id="resetSettings" style="background: var(--danger); color: white;">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <main class="calculator" role="application" aria-label="–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä">

    <div class="topbar">
      <div class="history" id="history" aria-live="polite"></div>
    </div>

    <div class="screen" id="screen" aria-atomic="true" aria-live="off">0</div>

    <div class="keys" id="keys" role="group" aria-label="–ö–ª–∞–≤–∏—à–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞">
      <!-- –ü–µ—Ä–≤—ã–π —Ä—è–¥: AC ( ) √∑ -->
      <button class="btn left" data-action="all-clear" aria-label="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë">AC</button>
      <button class="btn left" data-action="paren" aria-label="–°–∫–æ–±–∫–∏">( )</button>
      <button class="btn left" data-action="delete" aria-label="–£–¥–∞–ª–∏—Ç—å —Å–∏–º–≤–æ–ª">‚å´</button>
      <button class="btn right op" data-value="√∑" aria-label="–î–µ–ª–µ–Ω–∏–µ">√∑</button>

      <!-- –í—Ç–æ—Ä–æ–π —Ä—è–¥: 7 8 9 √ó -->
      <button class="btn num" data-value="7">7</button>
      <button class="btn num" data-value="8">8</button>
      <button class="btn num" data-value="9">9</button>
      <button class="btn right op" data-value="√ó" aria-label="–£–º–Ω–æ–∂–µ–Ω–∏–µ">√ó</button>

      <!-- –¢—Ä–µ—Ç–∏–π —Ä—è–¥: 4 5 6 ‚àí -->
      <button class="btn num" data-value="4">4</button>
      <button class="btn num" data-value="5">5</button>
      <button class="btn num" data-value="6">6</button>
      <button class="btn right op" data-value="‚àí" aria-label="–í—ã—á–∏—Ç–∞–Ω–∏–µ">‚àí</button>

      <!-- –ß–µ—Ç–≤–µ—Ä—Ç—ã–π —Ä—è–¥: 1 2 3 + -->
      <button class="btn num" data-value="1">1</button>
      <button class="btn num" data-value="2">2</button>
      <button class="btn num" data-value="3">3</button>
      <button class="btn right op" data-value="+" aria-label="–°–ª–æ–∂–µ–Ω–∏–µ">+</button>

      <!-- –ü—è—Ç—ã–π —Ä—è–¥: % 0 . = -->
      <button class="btn left" data-action="percent" aria-label="–ü—Ä–æ—Ü–µ–Ω—Ç">%</button>
      <button class="btn num" data-value="0">0</button>
      <button class="btn left" data-value="." aria-label="–¢–æ—á–∫–∞">.</button>
      <button class="btn equals" data-action="equals" aria-label="–†–∞–≤–Ω–æ">=</button>
    </div>
  </main>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="./app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js')
        .then(registration => {
          console.log('ServiceWorker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
        })
        .catch(error => {
          console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ServiceWorker: ', error);
        });
    }
  </script>
</body>
</html>
